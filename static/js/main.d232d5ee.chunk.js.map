{"version":3,"sources":["Components/Modal/Modal.module.css","App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.js","Components/Loader/Loader.js","Components/Api/Api.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","img/404_error.jpg","Components/Modal/Modal.js","App.js","reportWebVitals.js","index.js","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","value","setValue","className","s","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","Loaders","loader","color","height","width","Api","onFetch","thisPage","fetch","then","r","json","ImageGalleryItem","visible","numberPage","resPage","largeImageURL","gallery","setGallery","setFetch","status","setStatus","number","setNumber","useEffect","hits","length","catch","finally","window","scrollTo","top","document","documentElement","scrollHeight","behavior","map","src","webformatURL","data-src","alt","ImageGalleryItemImage","onClick","id","Button","pageNumber","ButtonDiv","ImageGallery","setVisible","page","setPage","qq","Modal","modal","setModal","addEventListener","code","removeEventListener","Overlay","defaultProps","img","App","search","setSearch","datasrc","setDatasrc","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d232d5ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1cbbL\",\"Modal\":\"Modal_Modal__3Pa9o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__pBYGw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3IOpp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__X3yiJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__15W4d\",\"SearchForm\":\"Searchbar_SearchForm__tqdgu\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1c0to\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__31NrR\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3GEoU\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [value, setValue] = useState('');\n\n  const onSubmitFunc = e => {\n    e.preventDefault();\n    onSubmit(value);\n  };\n\n  const inputValue = e => {\n    setValue(e.target.value);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={onSubmitFunc}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={inputValue}\n        />\n      </form>\n    </header>\n  );\n}\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default function Loaders() {\n  return (\n    <Loader\n      className={s.loader}\n      type=\"Watch\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n    />\n  );\n}\n","// import React from 'react'\n\nexport default function Api(onFetch, thisPage) {\n  const KEY = '19060894-87e054058a337546d07970d77';\n  return fetch(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${onFetch}&page=${thisPage}&per_page=12&key=${KEY}`,\n  ).then(r => r.json());\n}\n","import { useEffect, useState } from 'react';\n\nimport s from './ImageGalleryItem.module.css';\nimport Loaders from '../Loader/Loader';\nimport Api from '../Api/Api';\nimport PropTypes from 'prop-types';\n\nexport default function ImageGalleryItem({\n  onFetch,\n  visible,\n  numberPage,\n  resPage,\n  largeImageURL,\n}) {\n  const [gallery, setGallery] = useState([]);\n  const [fetch, setFetch] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [number, setNumber] = useState(null);\n\n  useEffect(() => {\n    if (onFetch === '') {\n      setStatus('idle');\n      visible(true);\n    }\n  }, [onFetch, visible]);\n\n  useEffect(() => {\n    setFetch(true);\n  }, [onFetch]);\n\n  useEffect(() => {\n    if (onFetch !== '' && fetch) {\n      setGallery([]);\n      setStatus('pending');\n      visible(true);\n      resPage(true);\n      Api(onFetch, 1)\n        .then(e => {\n          setGallery(e.hits);\n          visible(false);\n          if (e.hits.length === 0) {\n            visible(true);\n            return setStatus('rejected');\n          }\n          setStatus('resolve');\n        })\n        .catch(() => setStatus('rejected'))\n        .finally(setFetch(false), setNumber(2));\n    }\n  }, [fetch, gallery, numberPage, onFetch, resPage, visible]);\n\n  useEffect(() => {\n    if (number === numberPage) {\n      Api(onFetch, numberPage)\n        .then(e => {\n          setGallery([...gallery, ...e.hits]);\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n          visible(false);\n          if (e.hits.length === 0) {\n            visible(true);\n          }\n          setStatus('resolve');\n        })\n        .catch(() => setStatus('rejected'))\n        .finally(setNumber(number + 1));\n    }\n  }, [gallery, number, numberPage, onFetch, visible]);\n\n  if (status === 'idle') {\n    return (\n      <li>\n        <h1>Введите запрос</h1>\n      </li>\n    );\n  }\n\n  if (status === 'rejected') {\n    return (\n      <li>\n        <h1>Запрос не найден</h1>\n      </li>\n    );\n  }\n  if (status === 'pending') {\n    return (\n      <li>\n        <Loaders />\n      </li>\n    );\n  }\n\n  if (status === 'resolve') {\n    return gallery.map(e => (\n      <li key={e.id} className={s.ImageGalleryItem}>\n        <img\n          src={e.webformatURL}\n          data-src={e.largeImageURL}\n          alt=\"img\"\n          className={s.ImageGalleryItemImage}\n          onClick={() => largeImageURL(e.largeImageURL)}\n        />\n      </li>\n    ));\n  }\n}\nImageGalleryItem.propTypes = {\n  visible: PropTypes.func.isRequired,\n  resPage: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.func.isRequired,\n  numberPage: PropTypes.number.isRequired,\n  onFetch: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ pageNumber }) {\n  const loadMore = () => {\n    pageNumber();\n  };\n\n  return (\n    <div className={s.ButtonDiv}>\n      <button className={s.Button} onClick={loadMore}>\n        Load more\n      </button>\n    </div>\n  );\n}\nButton.propTypes = {\n  pageNumber: PropTypes.func.isRequired,\n};\n","import s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ src, onFetch }) => {\n  const [visible, setVisible] = useState(false);\n  const [page, setPage] = useState(1);\n\n  const largeImageURL = e => {\n    src(e);\n  };\n\n  const visibl = length => {\n    setVisible(!length);\n  };\n\n  const pageNumber = e => {\n    setPage(page + 1);\n  };\n\n  const resPage = e => {\n    if (e) {\n      setPage(1);\n    }\n  };\n\n  return (\n    <div>\n      <ul className={s.ImageGallery}>\n        <ImageGalleryItem\n          onFetch={onFetch}\n          largeImageURL={largeImageURL}\n          visible={visibl}\n          numberPage={page}\n          resPage={resPage}\n          qq={visible}\n        />\n      </ul>\n      {visible && <Button pageNumber={pageNumber} />}\n    </div>\n  );\n};\n\nImageGallery.propTypes = {\n  onFetch: PropTypes.string,\n  src: PropTypes.func,\n};\n\nexport default ImageGallery;\n","export default __webpack_public_path__ + \"static/media/404_error.a378b0df.jpg\";","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\nimport img from '../../img/404_error.jpg';\n\nexport default function Modal({ src }) {\n  const [modal, setModal] = useState(false);\n\n  useEffect(() => {\n    if (src !== '') {\n      setModal(true);\n      window.addEventListener('keydown', e => {\n        if (e.code === 'Escape') {\n          setModal(false);\n        }\n      });\n      window.addEventListener('click', e => {\n        if (e.target.alt !== 'img') {\n          setModal(false);\n        }\n      });\n    }\n    return () => {\n      window.removeEventListener('keydown', e => {\n        if (e.code === 'Escape') {\n          setModal(false);\n        }\n      });\n      window.removeEventListener('click', e => {\n        if (e.target.alt !== 'img') {\n          setModal(false);\n        }\n      });\n    };\n  }, [src]);\n  return (\n    modal && (\n      <div className={s.Overlay}>\n        <div className={s.Modal}>\n          <img src={src} alt=\"img\" />\n        </div>\n      </div>\n    )\n  );\n}\n\nModal.defaultProps = {\n  src: img,\n};\n\nModal.propTypes = {\n  src: PropTypes.string,\n};\n","import { useState } from 'react';\nimport s from './App.module.css';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Modal from '../src/Components/Modal/Modal';\n\nconst App = () => {\n  const [search, setSearch] = useState('');\n  const [datasrc, setDatasrc] = useState('');\n\n  const onSubmit = e => {\n    setSearch(e);\n  };\n\n  const largeImageURL = e => {\n    setDatasrc(e);\n  };\n\n  return (\n    <div className={s.App}>\n      <Modal src={datasrc} />\n      <Searchbar onSubmit={onSubmit} />\n      <ImageGallery onFetch={search} src={largeImageURL} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__R1VGO\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__X-kH7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3y1R0\",\"ButtonDiv\":\"Button_ButtonDiv__7YNkd\"};"],"sourceRoot":""}